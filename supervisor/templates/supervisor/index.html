{% extends 'supervisor/base.html' %}

{% block title %}
index
{% endblock %}

{% block content %}
<style>
      
      .savebutton {
        position: fixed;
        top: 85%;
        left: 85%;
        color: white;
        font-size: 35px;
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background: var(--gradient-2, linear-gradient(90deg, #2AF598 0%, #009EFD 100%));
        border: 0;
        display: inline-block;
        transition: all 300ms cubic-bezier(.23, 1, 0.32, 1);
        box-shadow: 0px 0px 5px #fff;
      }

      .createbutton {
        position: fixed;
        top: 85%;
        left: 92%;
        color: white;
        font-size: 70px;
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background: var(--gradient-2, linear-gradient(90deg, #2AF598 0%, #009EFD 100%));
        border: 0;
        display: inline-block;
        transition: all 300ms cubic-bezier(.23, 1, 0.32, 1);
        box-shadow: 0px 0px 5px #fff;
      }

      button:hover {
        color: #fff;
        background-color: #1A1A1A;
        box-shadow: rgba(0, 0, 0, 0.5) 0 10px 20px;
        transform: translateY(-3px);
      }

      button:active {
        box-shadow: none;
        transform: translateY(0);
      }
      
      .searchInput {
        width: 93%;
        border: none;
        background: none;
        outline: none;
        color: #111;
        font-size: 15px;
        padding: 24px 46px 24px 26px;
      }
      
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 20px;
      }

      .grid-2 {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(0px, 1fr));
      }

      .card {
        max-width: 400px;
        background-color: rgb(7 16 45);
        background: linear-gradient(to top right, rgb(7 16 45), rgb(58 60 84));
        background: -webkit-linear-gradient(to top right, rgb(7 16 45), rgb(58 60 84)); 
        display: grid;
        padding: 20px;
        border-radius: 20px;
        border: 1px solid rgb(84 90 106);
      }

      .card:hover {
        color: #fff;
        background-color: #1A1A1A;
        box-shadow: rgba(0, 0, 0, 0.5) 0 10px 20px;
        transform: translateY(-3px);
      }
      
      .small-text, .title,.desc {
        font-weight: 600;
      }
      
      .title,.desc {
        margin: 8px 0;
      }
      
      .small-text {
        color: #488aec;
        font-size: 14px;
      }
      
      .title {
        color: #fff;
        font-size: 26px;
        line-height: 26px;
      }
      
      .desc {
        color: rgb(151 153 167);
        font-size: 13px;
      }

      /* The switch - the box around the slider */
        .switch {
          font-size: 17px;
          position: relative;
          display: inline-block;
          width: 3.5em;
          height: 2em;
        }

        /* Hide default HTML checkbox */
        .switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        /* The slider */
        .slider {
          position: absolute;
          cursor: pointer;
          inset: 0;
          background: #d4acfb;
          border-radius: 50px;
          transition: all 0.4s cubic-bezier(0.23, 1, 0.320, 1);
        }

        .slider:before {
          position: absolute;
          content: "";
          height: 1.4em;
          width: 1.4em;
          left: 0.3em;
          bottom: 0.3em;
          background-color: white;
          border-radius: 50px;
          box-shadow: 0 0px 20px rgba(0,0,0,0.4);
          transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .switch input:checked + .slider {
          background: #b84fce;
        }

        .switch input:focus + .slider {
          box-shadow: 0 0 1px #b84fce;
        }

        .switch input:checked + .slider:before {
          transform: translateX(1.6em);
          width: 2em;
          height: 2em;
          bottom: 0;
        }

        .deletebutton {
          left: 80%;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background-color: rgb(20, 20, 20);
          border: none;
          font-weight: 600;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.164);
          cursor: pointer;
          transition-duration: .3s;
          overflow: hidden;
          position: relative;
        }
        
        .svgIcon {
          width: 12px;
          transition-duration: .3s;
        }
        
        .svgIcon path {
          fill: white;
        }
             
</style>
    <div class="grid"> 
        {% for task in tasks %}
        <div class="card">
            <span class="small-text">{{ task.deadline }}</span>
            <span class="title">{{ task.task_heading }} </span>
            <span class="desc">{{task.task_details}}</span>
            <form method="post" action="#">{% csrf_token %}
            <span class="desc">
              <label for="text">Remark :</label>
              <input type="text" name="note_{{ task.id }}" value="{{task.note}}"></span>
            <div class="grid-2">
              <label class="switch">
                <input type="checkbox" name="task_{{ task.id }}" {% if task.status %} checked {% endif %}>
                <span class="slider"></span>
              </label>
              <button class="deletebutton" name="delete_{{ task.id }}" value="delete_{{ task.id }}">
                <svg viewBox="0 0 448 512" class="svgIcon"><path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"></path></svg>
              </button>
            </div>
        </div>
        {% endfor %} 
    </div>
        <button class="savebutton" type="Submit", name="save", value="save">Save</button>
        </form>
        <form method="post" action="#">{% csrf_token %}<button class="createbutton", name="create", value="create">+</button></form>
<script>
</script>
{% endblock %}
